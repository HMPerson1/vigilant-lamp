<div class="canvas-box" style="width: 100%; height: 100%;" (wheel)="onWheel($event)"
  (mousemove)="cursorY = $event.offsetY" (mouseleave)="cursorY = undefined">
  <canvas #spectrogram_canvas></canvas>
  <div class="grids-container">
    <div *ngIf="showBeatGrid">
      <div class="beat-grid" *ngFor="let i of beatGrid; trackBy: trackIdx" [style.transform]="'translateX('+i.x+'px)'" [class.beat-grid-measure]="i.m"></div>
    </div>
    <div *ngIf="showPitchGrid && showPitchGridCenters">
      <div class="pitch-grid-centers" *ngFor="let p of pitchGridCenters" [style.transform]="'translateY('+p.y+'px)'"></div>
    </div>
    <div *ngIf="showPitchGrid">
      <div class="pitch-grid-borders" *ngFor="let p of pitchGridBorders" [style.transform]="'translateY('+p.y+'px)'"></div>
    </div>
    <div *ngIf="pitchLabelType !== 'none'" [style.font-size.px]="pitchLabelFontSize">
      <div class="pitch-label" *ngFor="let p of pitchLabels" [style.transform]="'translateY('+p.y+'px)'">
        <span>{{p.txt}}</span></div>
    </div>
    <div *ngIf="showCrosshair && cursorY !== undefined">
      <div class="crosshair" style="height: 1px;" [style.transform]="'translateY('+(cursorY || 0)+'px)'"></div>
      <div class="crosshair" *ngFor="let o of overtoneYOffsets" style="height: 1px" [style.opacity]=".8-o.i*.05"
        [style.transform]="'translateY('+((cursorY || 0) - o.y)+'px)'" [hidden]="!showOvertones"></div>
    </div>
  </div>
</div>
